# 1. Basis-Image mit R
FROM rocker/r-ver:4.3.1

# 2. Systemabh√§ngigkeiten installieren
RUN apt-get update && apt-get install -y \
    libxml2-dev libcurl4-openssl-dev libssl-dev libgit2-dev \
    && rm -rf /var/lib/apt/lists/*

# 3. Arbeitsverzeichnis im Container
WORKDIR /app

# 4. Kopiere Projektdateien
COPY . /app

# 5. renv installieren
RUN R -e "install.packages('renv', repos='https://cloud.r-project.org')"

# 6. Pakete via renv installieren, falls renv.lock vorhanden ist
RUN R -e "if (file.exists('renv.lock')) renv::restore() else install.packages(c('httr','xml2','dplyr
